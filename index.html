<!doctype html>
<html>

<head>
	<meta charset="UTF-8">
	<title>Additive query</title>
	<link rel="stylesheet" href="Output/style.css" type="text/css">
	<link href="https://fonts.googleapis.com/css?family=Quicksand" rel="stylesheet">
	<link rel="stylesheet" href="font-awesome-4.7.0/css/font-awesome.min.css">

	<script src="script.js"></script>
</head>

<body style="margin:0px">
	<div id="sBar">
		<form id="newSearch" onkeypress="return event.keyCode != 13;" class="centered">
			<label for="searchBar">Search terms:</label>
			<br>
			<input type="text" name="searchBar" onsubmit="false" value="harder better,faster,stronger">
			<br>
			<button type="button" id="submitNewSearch">Submit</button>
		</form>
		<form id="addTerm" onkeypress="return event.keyCode != 13;" class="centered">
			<label for='addTerms'>Add terms:</label>
			<br>
			<input name="addTerms" type="text" onsubmit="false" class="centered">
			<br>
			<button type="button" id="addTermButt">Add Term</button>
		</form>

	</div>
	<div id='sugTermsContainer'>
		<form id="addClickBoxes" onkeypress="return event.keyCode != 13;">
			<!--        attempt this function
            -->
			<label for="testTerms">Testing add suggested terms</label>
			<input type="text" id='addClickTerm' name="testTerms">
			<button type="button" id="makeSugButton">Make Suggestion</button>
		</form>
		<div id="sugTerms"></div>

	</div>
	<div id="sTerms">

	</div>
	<div id='queryTerms'>

	</div>

	<script>
		//makes sure that the javascript starts after the page loads
		var splitText = "";
		var wholeQuery = []; //text of the search

		document.getElementById("submitNewSearch").addEventListener("click", splitTerms);
		document.getElementById("addTermButt").addEventListener("click", function () {
			var facts = false;
			for (i = 0; i < wholeQuery.length; i++) {

				if (wholeQuery[i].join(' ') == document.getElementsByName('addTerms')[0].value)
					facts = true;
			}
			if (facts == false) {
				makeDiv(document.getElementsByName('addTerms')[0].value, 'queryTerms', totSearch);
				wholeQuery.push(document.getElementsByName('addTerms')[0].value.split(' '));
			}

			document.getElementById('sTerms').innerText = wholeQuery;
		});
		document.getElementById('makeSugButton').addEventListener('click', function () {
			makeDiv(document.getElementById('addClickTerm').value, 'sugTerms', totSuggestions);
			document.getElementById('addClickTerm').value = "";
		})


		document.getElementById('newSearch').onkeydown = function (event) {
			if (event.keyCode == 13) {
				splitTerms();
			}

		}

		document.getElementById('addTerm').onkeydown = function (event) {
			if (event.keyCode == 13) {


				var facts = false;
				for (i = 0; i < wholeQuery.length; i++) {

					if (wholeQuery[i].join(' ') == document.getElementsByName('addTerms')[0].value)
						facts = true;
				}
				if (facts == false) {
					makeDiv(document.getElementsByName('addTerms')[0].value, 'queryTerms', totSearch);
					wholeQuery.push([document.getElementsByName('addTerms')[0].value.split(' ')]);
				}

			}
		}

		document.getElementById('addClickBoxes').onkeydown = function (event) {
			if (event.keyCode == 13) {
				makeDiv(document.getElementById('addClickTerm').value, 'sugTerms', totSuggestions);
				document.getElementById('addClickTerm').value = "";
			}

		}
	</script>

</body>

</html>